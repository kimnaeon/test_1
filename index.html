<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>body {padding: 0; margin: 0;}</style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script>
        let circleSize = 100;
        let circleX, circleY;
        let maxX, maxY;

        function setup() {
        createCanvas(windowWidth, windowHeight);
  
        circleX = width / 2;
        circleY = height / 2;
  
        maxX = width - circleSize;
        maxY = height - circleSize;
  
        if (typeof(DeviceOrientationEvent) !== 'undefined' && typeof(DeviceOrientationEvent.requestPermission) === 'function') {
            DeviceOrientationEvent.requestPermission()
            .then(permissionState => {
                if (permissionState === 'granted') {
                window.addEventListener('deviceorientation', handleOrientation, true);
                }
            })
            .catch(console.error);
        } else {
                window.addEventListener('deviceorientation', handleOrientation, true);
                }
        }

        function draw() {
            background(220);
            ellipse(circleX, circleY, circleSize);
        }

        function handleOrientation(event) {
            let accelerationX = event.gamma; // Tilt in the x-axis
            let accelerationY = event.beta; // Tilt in the y-axis
  
            let newX = map(accelerationX, -90, 90, 0, maxX);
            let newY = map(accelerationY, -90, 90, 0, maxY);
  
            circleX = newX;
            circleY = newY;
        }
    </script>
</body>
</html>
